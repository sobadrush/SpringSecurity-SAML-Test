# CAS Server 基本設定（開發模式使用 HTTP）
cas.server.name=http://localhost:8443
cas.server.prefix=${cas.server.name}/cas

# 啟用 SAML2 Identity Provider (IDP) 功能
cas.authn.saml-idp.core.entity-id=${cas.server.prefix}/idp
cas.authn.saml-idp.metadata.file-system.location=file:/etc/cas/saml

# SAML2 IDP Metadata 端點
cas.authn.saml-idp.metadata.http.metadata-backup-location=file:/etc/cas/saml-metadata-backup

# 服務註冊設定 - 使用 JSON 服務註冊
cas.service-registry.core.init-from-json=true
cas.service-registry.json.location=file:/etc/cas/services

# 簡化認證設定（僅供開發測試使用）
# 格式: username::password
cas.authn.accept.users=casuser::Mellon,testuser::password123,admin::admin123
cas.authn.accept.name=Static Credentials

# 啟用 SAML2 相關功能
cas.authn.saml-idp.core.session-storage-type=TICKET_REGISTRY

# 票證過期設定
cas.ticket.st.time-to-kill-in-seconds=10
cas.ticket.tgt.time-to-kill-in-seconds=7200

# SSL/TLS 設定 - 開發模式（使用 HTTP）
# 注意：生產環境必須啟用 HTTPS
server.ssl.enabled=false
server.port=8080

# 日誌設定
logging.level.org.apereo.cas=DEBUG
logging.level.org.apereo.cas.support.saml=DEBUG

# 允許跨域請求（開發環境）
cas.http-web-request.cors.enabled=true
cas.http-web-request.cors.allow-origins[0]=http://localhost:8080
cas.http-web-request.cors.allow-credentials=true

# 禁用某些安全檢查（僅供開發環境）
cas.tgc.secure=false
cas.warning-cookie.secure=false
